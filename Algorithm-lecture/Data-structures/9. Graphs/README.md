## 9. Graphs

: 유한하고 변할 수 있는 꼭지점/노드/점들의 집합으로 구성된 데이터 구조.

- 꼭지점들의 집합에 순서가 없는 경우, 무방향 그래프
- 순서가 있으면 유방향 그래프
- 활용
  - SNS에서 사용자 추천 엔진을 만들 때 사용됨
  - 지도 기능 (빠른 길 찾기)
  - 라우팅
  - SNS 친구관계 파악
  - 위키피디아 연결 페이지

### Terms

- vertex(정점) - 노드
- edge(간선) - 노드 사이의 연결
- weighted(가중) - 간선에 부여된 값이 존재 (ex. 최단 경로)
- unweighted(비가중) - 간선에 부여된 값이 없다
- directed(방향) - 간선에 방향이 존재 (ex. 팔로우 관계)
- undirected(무방향) - 간선에 존재하는 방향이나 양/음극이 없다 (= 양방향 연결)

### 그래프 구조화

- 1. 인접 행렬
  - 이차원 구조로 보통 중첩 행렬로 표현
  - 두 개의 노드 사이 연결 관계를 표현 (1이면 연결, 0이면 비연결)
- 2. 인접 리스트
  - 이중 배열로 표현
  - 해당 인덱스에 연결된 노드를 저장 (실제 연결만을 저장)
  - 노드가 숫자가 아니라면, 키-값 쌍의 해시 테이블 이용

### 인접행렬 vs 인접 리스트

- 인접 행렬
  - Storage: 이차원 구조이므로 O(V^2)
  - Query: 해당 칸을 찾아 0인지 1인지만 보면 됨 O(1)
    - 특정 간선이 존재하는 것을 확인할 때 인접 리스트보다 빠름
- 인접 리스트
  - Storage: 정점과 간선의 개수에 따라 저장 공간이 결정됨 O(V+E)
    - 데이터가 퍼져있고 간선이 많지 않을 때 유용
    - 모든 간선을 순회할 때 인접 행렬보다 더 빠름
  - Query: 해당 정점에 저장된 데이터 전체를 순회해야 함 O(V+E)

=> 실제 데이터들은 보통 퍼져있는 경우가 더 많으므로, 저장공간을 덜 차지하는 인접 리스트를 사용하는 것이 더 바람직.

### Add vertex & edge

(무방향 그래프로 가정)

- 인접 리스트에 해당 정점을 키로 가진 리스트가 없다면 빈 배열 추가
- 양쪽 정점을 키로 가진 인접 리스트에 상대방의 정점을 추가

### Remove vertex & edge

- 제거하고자 하는 정점을 키로 가진 인접 리스트를 돌며, 연결된 정점을 하나씩 pop
  - 제거하고자 하는 정점 & 연결된 정점을 키로 가진 인접 리스트에서 상대방의 정점을 제거 (filter 사용)
- 해당 정점을 키로 가진 빈 인접 리스트를 delete로 제거
