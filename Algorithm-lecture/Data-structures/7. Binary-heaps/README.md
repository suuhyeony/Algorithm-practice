## 7. Binary Heaps

- 힙은 트리의 한 종류
- 이진 힙은 이진 탐색 트리와 매우 비슷하지만, 다른 규칙을 가짐
  - 각 노드는 언제나 최대 두 개의 자식을 가짐
  - 왼쪽과 오른쪽의 순서가 존재하지 않음
  - 최대 이진 힙: 부모 노드가 항상 자식 노드보다 큰 값을 가짐
  - 최소 이진 힙: 부모 노드가 항상 자식 노드보다 작은 값을 가짐
- 이진 힙은 언제나 가능한 가장 작은 공간을 차지.
  - 다음 레벨로 내려가기 전 모든 left와 right가 다 채워짐
  - 왼쪽을 먼저 채워야함
- 우선순위 큐를 구현하는데 사용되며, 이는 그래프 순회에 자주 쓰임

- n개의 원소를 가진 배열에 대해, 자식/부모 노드가 어디있는지 알 수 있다
  - left child: 2n + 1에 저장
  - right child: 2n + 2에 저장
  - n번째 자식의 부모: (n - 1) / 2를 한 뒤, 내림

### Adding to a MaxBinaryHeap

- 뒤에서부터 추가
- bubble up을 통해 자리를
  - 바로 위의 부모와 크기 비교
  - 부모보다 더 큰 값이면 자리바꿈

#### Insert PseudoCode

- 이진 힙 (배열)에 새로운 값 푸시
- 마지막 인덱스와 값을 찾아 변수에 저장
- 해당 노드의 부모 인덱스와 값을 찾아 변수에 저장
- 마지막 값 (새로운 값)과 부모 노드값 비교
  - 부모 노드가 더 크거나 같으면 while 문 빠져 나오기
  - 마지막 값이 더 크면, 부모 노드와 자리 바꾸기
- 비교대상 인덱스(마지막 인덱스)를 바꾼 부모 인덱스로

### Removing from a MaxBinaryHeap

- 루트에서 값을 제거
- 가장 맨 뒤에 있는 값과 자리를 바꿈
- sink down
  - 자식 둘과 크기를 비교
  - 자식이 더 크면 자리 변경

#### Removing PseudoCode

- 루트값 변수에 저장
- 맨 뒤에 있는 값 제거 후 루트값을 해당 값으로 업데이트
  - 이진 힙 (배열)에 값이 있을 때만 실행!
- 비교대상 인덱스는 0번째, 값은 루트
- while 문을 돌며 sinkDown
  - left / right 자식노드 인덱스와 값을 저장. swap 변수에 자리 바꾸는 위치를 저장.
  - left 자식 노드부터 크기 비교 후, 자식 노드가 더 크면 자리변경
    - swap을 left 자식노드 인덱스로 업데이트
  - (자리를 바꾸지 않았고, right 자식노드가 더 클 경우) 혹은 (자리를 바꾸었지만, right가 left보다 더 클 경우) s
    - wap을 right 자식노드 인덱스로 업데이트
  - swap에 아무 것도 없을 때 (=자리변경이 일어나지 않음) break
  - 비교대상의 인덱스와 값을 업데이트

### Priority Queue

: 각 요소가 그에 해당하는 우선순위를 가지는 데이터 구조.

- 더 높은 우선순위를 가진 요소가 더 낮은 우선순위를 가진 요소보다 먼저 처리됨.
- ex. 컴퓨터 운영체제
- 힙을 통해 우선수위 큐를 구현

#### Priority Queue (max) PseudoCode

- node 클래스에 우선순위 항목도 추가
- 이진 힙에 새로운 노드 푸시
- bubbleUp / sinkDown 의 크기 비교 시, 해당 노드의 우선순위로 비교
- min으로 구현할 때는 부등호의 크기만 바꾸면 된다

### Big O of Binary Heaps

- Insertion : O(log N)
- Removal : O(log N)
- Search : O(N)
